{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h2 class="mb-4">עריכת הזמנה #{{ order.order_id }}</h2>
    <form method="POST">
        <div class="form-group">
            <label for="status">סטטוס</label>
            <select class="form-control" name="status" id="status">
                <option value="Pending" {{ 'selected' if order.status == 'Pending' else '' }}>Pending</option>
                <option value="Shipped" {{ 'selected' if order.status == 'Shipped' else '' }}>Shipped</option>
                <option value="Delivered" {{ 'selected' if order.status == 'Delivered' else '' }}>Delivered</option>
                <option value="Cancelled" {{ 'selected' if order.status == 'Cancelled' else '' }}>Cancelled</option>
            </select>
        </div>

        <div class="form-group">
            <label for="employee_id">עובד אחראי</label>
            <input type="number" class="form-control" name="employee_id" id="employee_id" value="{{ order.employee_id or '' }}">
        </div>

        <div class="form-group">
            <label for="shipped_date">תאריך משלוח</label>
            <input type="datetime-local" class="form-control" name="shipped_date" id="shipped_date"
                   value="{{ order.shipped_date|default('', true)|replace(' ', 'T') }}">
        </div>

        <div class="form-group">
            <label for="expected_delivery">תאריך אספקה צפוי</label>
            <input type="datetime-local" class="form-control" name="expected_delivery" id="expected_delivery"
                   value="{{ order.expected_delivery|default('', true)|replace(' ', 'T') }}">
        </div>

        <div class="form-group">
            <label for="actual_delivery">תאריך אספקה בפועל</label>
            <input type="datetime-local" class="form-control" name="actual_delivery" id="actual_delivery"
                   value="{{ order.actual_delivery|default('', true)|replace(' ', 'T') }}">
        </div>

        <div class="form-group">
            <label for="freight">עלות משלוח</label>
            <input type="number" step="0.01" class="form-control" name="freight" id="freight" value="{{ order.freight }}">
        </div>

        <div class="form-group">
            <label for="total_amount">סה"כ לתשלום</label>
            <input type="number" step="0.01" class="form-control" name="total_amount" id="total_amount" value="{{ order.total_amount }}">
        </div>

        <button type="submit" class="btn btn-primary mt-3">שמור שינויים</button>
        <a href="{{ url_for('orders.list_orders') }}" class="btn btn-secondary mt-3">ביטול</a>
    </form>
</div>
{% endblock %}
