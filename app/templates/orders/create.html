{% extends "base.html" %}

{% block title %}הוספת הזמנה חדשה{% endblock %}

{% block content %}
<div class="container" dir="rtl">
  <h1>הוספת הזמנה חדשה</h1>

  <form method="POST" action="{{ url_for('orders.create_order') }}">
    <!-- מזהים -->
    <label for="user_id">מזהה משתמש:</label><br>
    <input type="number" id="user_id" name="user_id" required><br><br>

    <label for="customer_id">מזהה לקוח:</label><br>
    <input type="number" id="customer_id" name="customer_id" required><br><br>

    <label for="employee_id">מזהה עובד:</label><br>
    <input type="number" id="employee_id" name="employee_id"><br><br>

    <!-- סטטוס (UPPER כדי להתאים ל-CHECK ולוולידציה) -->
    <label for="status">סטטוס הזמנה:</label><br>
    <select id="status" name="status" required>
      <option value="NEW" selected>חדש (NEW)</option>
      <option value="PAID">שולם (PAID)</option>
      <option value="SHIPPED">נשלחה (SHIPPED)</option>
      <option value="DELIVERED">נמסרה (DELIVERED)</option>
      <option value="CANCELLED">בוטלה (CANCELLED)</option>
    </select><br><br>

    <!-- משלוח/עלויות -->
    <label for="ship_via">חברת שילוח:</label><br>
    <input type="text" id="ship_via" name="ship_via"><br><br>

    <label for="freight">עלות משלוח:</label><br>
    <input type="number" step="0.01" id="freight" name="freight"><br><br>

    <label for="total_amount">סכום כולל:</label><br>
    <input type="number" step="0.01" id="total_amount" name="total_amount"><br><br>

    <!-- תאריכים (create משתמש ב-type="date" לפי ה-route שלך) -->
    <label for="expected_delivery">תאריך משלוח צפוי:</label><br>
    <input type="date" id="expected_delivery" name="expected_delivery"><br><br>

    <label for="actual_delivery">תאריך משלוח בפועל:</label><br>
    <input type="date" id="actual_delivery" name="actual_delivery"><br><br>

    <label for="shipped_date">תאריך יציאה למשלוח:</label><br>
    <input type="date" id="shipped_date" name="shipped_date"><br><br>

    <!-- פרטי מוצר (רק אם מטופל אצלך אחרי יצירת הזמנה; אחרת עדיף להעביר למסך נפרד) -->
    <hr>
    <h3>פרטי מוצר בהזמנה (אופציונלי)</h3>

    <label for="product_id">מזהה מוצר:</label><br>
    <input type="number" id="product_id" name="product_id"><br><br>

    <label for="quantity">כמות:</label><br>
    <input type="number" id="quantity" name="quantity"><br><br>

    <label for="price">מחיר בעת ההזמנה:</label><br>
    <input type="number" step="0.01" id="price" name="price"><br><br>

    <button type="submit" class="btn">שמור הזמנה</button>
  </form>
</div>
{% endblock %}
